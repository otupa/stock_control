{% extends 'base.html' %} 



{% macro _body() %}
<table class="table table-head-fixed table-striped text-center table-responsive">
    <thead>
        <tr>
            <th class="col-1">ID</th>
            <th class="col-3">Operação</th>
            <th class="col-2">Cliente</th>
            <th class="col-2">Equipamento</th>
            <th class="col-3">Data e Hora</th>
            <th class="col-1">Ações</th>
        </tr>
    </thead>

    <tbody>
        {% for operacao in operacoes %}
        <tr>
            <td>{{ operacao.id }}</td>
            <td>{{ operacao.operacao }}</td>
            <td>{{ operacao.cliente }}</td>
            <td>{{ operacao.equipamento }}</td>
            <td>{{ operacao.data_hora }}</td>
            <td>
                <div class="input-group-prepend float-right">
                    <button type="button" class="btn btn-default dropdown-toggle " data-toggle="dropdown">
                            Action
                        </button>

                    <div class="dropdown-menu">
                        <a class="dropdown-item" href="/operacoes/detalhes/{{operacao.id}}">Detalhes</a>
                    </div>
                </div>
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% endmacro %}


{% macro mostrar() %}
<div class="col">
    {{card_primary(
        title="OS's", 

        card_tools=buttons(
            link="novo",
            button_type="button",
            _class="btn-primary btn-sm",
            button_text="Nova Ordem de Serviço"),

        card_body=_body()
        )}}
</div>
{% endmacro %}

{% block content %}
{{ wrapper_content(
    mostrar()
) }}
{% endblock %}
